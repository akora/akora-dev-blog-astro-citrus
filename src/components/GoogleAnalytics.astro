---
import { PUBLIC_GA_MEASUREMENT_ID } from "astro:env/client";
---

{
	PUBLIC_GA_MEASUREMENT_ID && import.meta.env.PROD && (
		<>
			<!-- Google tag (gtag.js) -->
			<script async src={`https://www.googletagmanager.com/gtag/js?id=${PUBLIC_GA_MEASUREMENT_ID}`}></script>
			<script is:inline define:vars={{ PUBLIC_GA_MEASUREMENT_ID }}>
				window.dataLayer = window.dataLayer || [];
				function gtag() {
					dataLayer.push(arguments);
				}
				gtag('js', new Date());
				gtag('config', PUBLIC_GA_MEASUREMENT_ID);
			</script>
		</>
	)
}
